# Word API ì‹¤í–‰ ê°€ì´ë“œ

ì˜ë‹¨ì–´ ì‚¬ì „ ë°ì´í„° ìˆ˜ì§‘ ë° ì²˜ë¦¬ API ì‚¬ìš© ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

1. [ì‚¬ì „ ì¤€ë¹„](#ì‚¬ì „-ì¤€ë¹„)
2. [ì„œë²„ ì‹¤í–‰](#ì„œë²„-ì‹¤í–‰)
3. [API ì‚¬ìš© ë°©ë²•](#api-ì‚¬ìš©-ë°©ë²•)
4. [ì—”ë“œí¬ì¸íŠ¸ ì„¤ëª…](#ì—”ë“œí¬ì¸íŠ¸-ì„¤ëª…)
5. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

---

## ì‚¬ì „ ì¤€ë¹„

### 1. í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install fastapi uvicorn requests
```

ë˜ëŠ” `requirements.txt`ê°€ ìˆë‹¤ë©´:

```bash
pip install -r requirements.txt
```

### 2. í´ë” êµ¬ì¡° í™•ì¸

```
scripts/
â”œâ”€â”€ word_api.py              # FastAPI ì„œë²„ íŒŒì¼
â”œâ”€â”€ raw_words/               # ì •ì œë˜ì§€ ì•Šì€ ì›ë³¸ íŒŒì¼
â”‚   â”œâ”€â”€ google-10000-english-usa-no-swears-medium.txt
â”‚   â””â”€â”€ words_dictionary.json
â””â”€â”€ processed_words/         # ì •ì œëœ ë‹¨ì–´ ë°ì´í„° ì €ì¥ í´ë”
    â””â”€â”€ google_words_processed.json
```

---

## ì„œë²„ ì‹¤í–‰

### ë°©ë²• 1: Python ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‹¤í–‰ (ê¶Œì¥)

```bash
cd c:\ssh\WEB_PRO\web-project
python scripts/word_api.py 8001
```

ê¸°ë³¸ í¬íŠ¸ëŠ” 8000ì´ë©°, í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì¸ìë¡œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë°©ë²• 2: uvicornìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰

```bash
cd c:\ssh\WEB_PRO\web-project
python -m uvicorn scripts.word_api:app --host 0.0.0.0 --port 8001
```

### ì„œë²„ ì‹¤í–‰ í™•ì¸

ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤:

```
Starting server on http://0.0.0.0:8001
API docs: http://localhost:8001/docs
INFO:     Started server process
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001
```

---

## API ì‚¬ìš© ë°©ë²•

### 1. Swagger UI ì‚¬ìš© (ê°€ì¥ ì‰¬ìš´ ë°©ë²•)

1. ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†: **http://localhost:8001/docs**
2. ì›í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ í´ë¦­
3. "Try it out" ë²„íŠ¼ í´ë¦­
4. í•„ìš”í•œ íŒŒë¼ë¯¸í„° ì…ë ¥
5. "Execute" ë²„íŠ¼ í´ë¦­

### 2. cURL ì‚¬ìš©

```bash
# ë‹¨ì–´ ì²˜ë¦¬ ì‹œì‘
curl -X POST "http://localhost:8001/words/process" \
  -H "Content-Type: application/json" \
  -d '{
    "input_file": "raw_words/google-10000-english-usa-no-swears-medium.txt",
    "max_words": 100,
    "output_file": "google_words_processed.json"
  }'

# ì§„í–‰ ìƒí™© í™•ì¸
curl http://localhost:8001/words/process/status

# í†µê³„ í™•ì¸
curl http://localhost:8001/stats
```

### 3. PowerShell ì‚¬ìš©

```powershell
# ë‹¨ì–´ ì²˜ë¦¬ ì‹œì‘
$body = @{
    input_file = "raw_words/google-10000-english-usa-no-swears-medium.txt"
    max_words = 100
    output_file = "google_words_processed.json"
} | ConvertTo-Json

Invoke-WebRequest -Uri "http://localhost:8001/words/process" `
  -Method POST `
  -Body $body `
  -ContentType "application/json"

# ì§„í–‰ ìƒí™© í™•ì¸
Invoke-WebRequest -Uri "http://localhost:8001/words/process/status" -Method GET
```

---

## ì—”ë“œí¬ì¸íŠ¸ ì„¤ëª…

### 1. ë‹¨ì–´ ì²˜ë¦¬ ì‹œì‘

**POST** `/words/process`

ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë‹¨ì–´ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

**ìš”ì²­ íŒŒë¼ë¯¸í„°:**
- `input_file` (ì„ íƒ): ì…ë ¥ íŒŒì¼ ê²½ë¡œ (raw_words í´ë” ê¸°ì¤€)
  - ì˜ˆ: `"raw_words/google-10000-english-usa-no-swears-medium.txt"`
- `max_words` (ì„ íƒ): ì²˜ë¦¬í•  ìµœëŒ€ ë‹¨ì–´ ìˆ˜
- `output_file` (ì„ íƒ): ì¶œë ¥ íŒŒì¼ëª… (ê¸°ë³¸ê°’: `"word_data.json"`)
- `start_index` (ì„ íƒ): ì‹œì‘ ì¸ë±ìŠ¤ (ê¸°ë³¸ê°’: 0)

**ìš”ì²­ ì˜ˆì‹œ:**
```json
{
  "input_file": "raw_words/google-10000-english-usa-no-swears-medium.txt",
  "max_words": 1000,
  "output_file": "google_words_processed.json"
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "message": "Processing started in background",
  "total_words": 1000,
  "output_file": "google_words_processed.json",
  "output_path": "scripts/processed_words/google_words_processed.json",
  "input_file": "raw_words/google-10000-english-usa-no-swears-medium.txt",
  "status_url": "/words/process/status"
}
```

### 2. ì§„í–‰ ìƒí™© í™•ì¸

**GET** `/words/process/status`

í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸ ì‘ì—…ì˜ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

**ì‘ë‹µ ì˜ˆì‹œ (ì²˜ë¦¬ ì¤‘):**
```json
{
  "is_processing": true,
  "current_word": "about",
  "total_words": 1000,
  "processed": 150,
  "saved": 45,
  "progress_percent": 15.0,
  "start_time": "2024-01-01T12:00:00"
}
```

**ì‘ë‹µ ì˜ˆì‹œ (ì²˜ë¦¬ ì™„ë£Œ):**
```json
{
  "is_processing": false,
  "message": "No processing task is currently running"
}
```

### 3. ì²˜ë¦¬ í†µê³„ ì¡°íšŒ

**GET** `/stats`

ì „ì²´ ì²˜ë¦¬ í†µê³„ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "stats": {
    "total_words": 1000,
    "successful": 600,
    "failed": 0,
    "no_data": 400,
    "translation_errors": 5
  },
  "cached_words_count": 600,
  "total_dictionary_words": 5459
}
```

### 4. ë‹¨ì¼ ë‹¨ì–´ ì¡°íšŒ

**GET** `/word/{word}`

íŠ¹ì • ë‹¨ì–´ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

**ì˜ˆì‹œ:**
```
GET http://localhost:8001/word/hello
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "word": "hello",
  "meaning": "ì¸ì‚¬í•˜ë‹¤",
  "part_of_speech": "noun",
  "example_sentence": "Hello, how are you?",
  "synonyms": ["hi", "greeting"],
  "antonyms": ["goodbye"]
}
```

### 5. ì—¬ëŸ¬ ë‹¨ì–´ ì¼ê´„ ì¡°íšŒ

**POST** `/words/batch`

ì—¬ëŸ¬ ë‹¨ì–´ì˜ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ì¡°íšŒí•©ë‹ˆë‹¤.

**ìš”ì²­ ì˜ˆì‹œ:**
```json
{
  "words": ["hello", "world", "beautiful"],
  "max_results": 10
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "total_requested": 3,
  "total_found": 2,
  "words": [
    {
      "word": "hello",
      "meaning": "ì¸ì‚¬í•˜ë‹¤",
      ...
    },
    {
      "word": "world",
      "meaning": "ì„¸ê³„",
      ...
    }
  ]
}
```

### 6. ìºì‹œëœ ë‹¨ì–´ ì¡°íšŒ

**GET** `/words/cached?limit=10`

ì²˜ë¦¬ëœ ë‹¨ì–´ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

---

## ì²˜ë¦¬ ê³¼ì •

1. **ë‹¨ì–´ ë¡œë“œ**: `raw_words` í´ë”ì˜ íŒŒì¼ì—ì„œ ë‹¨ì–´ ëª©ë¡ ì½ê¸°
2. **Dictionary API í˜¸ì¶œ**: í’ˆì‚¬, ì˜ˆë¬¸, ìœ ì˜ì–´, ë°˜ì˜ì–´ ìˆ˜ì§‘
3. **ë²ˆì—­ API í˜¸ì¶œ**: ì˜ì–´ ëœ»ì„ í•œêµ­ì–´ë¡œ ë²ˆì—­
4. **ë°ì´í„° ê²€ì¦**: í•„ìˆ˜ í•„ë“œ(ë‹¨ì–´, ëœ», í’ˆì‚¬, ì˜ˆë¬¸) í™•ì¸
5. **ì¤‘ë³µ ì œê±°**: ì´ë¯¸ ì €ì¥ëœ ë‹¨ì–´ëŠ” ê±´ë„ˆë›°ê¸°
6. **íŒŒì¼ ì €ì¥**: `processed_words` í´ë”ì— JSON íŒŒì¼ë¡œ ì €ì¥

## ì¶œë ¥ ë°ì´í„° í˜•ì‹

```json
[
  {
    "word": "hello",
    "meaning": "ì¸ì‚¬í•˜ë‹¤",
    "part_of_speech": "noun",
    "example_sentence": "Hello, how are you?",
    "synonyms": ["hi", "greeting", "salutation"],
    "antonyms": ["goodbye", "farewell"]
  }
]
```

## ì €ì¥ ìœ„ì¹˜

ëª¨ë“  ì •ì œëœ ë°ì´í„°ëŠ” `scripts/processed_words/` í´ë”ì— ì €ì¥ë©ë‹ˆë‹¤.

---

## ë¬¸ì œ í•´ê²°

### 1. í¬íŠ¸ê°€ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ê²½ìš°

**ì—ëŸ¬ ë©”ì‹œì§€:**
```
ERROR: [Errno 10048] error while attempting to bind on address ('0.0.0.0', 8001)
```

**í•´ê²° ë°©ë²•:**
- ë‹¤ë¥¸ í¬íŠ¸ ë²ˆí˜¸ ì‚¬ìš©: `python scripts/word_api.py 8002`
- ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ:
  ```powershell
  Get-Process | Where-Object {$_.ProcessName -eq "python"} | Stop-Process -Force
  ```

### 2. ì„œë²„ê°€ ì‘ë‹µí•˜ì§€ ì•ŠëŠ” ê²½ìš°

1. ì„œë²„ ì½˜ì†”ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
2. í¬íŠ¸ê°€ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸:
   ```powershell
   Get-NetTCPConnection -LocalPort 8001
   ```
3. ì„œë²„ ì¬ì‹œì‘

### 3. ë²ˆì—­ API ì˜¤ë¥˜

- MyMemory APIê°€ ì¼ì¼ í•œë„(10,000ì)ë¥¼ ì´ˆê³¼í•œ ê²½ìš°
- LibreTranslateë¡œ ì „í™˜í•˜ë ¤ë©´ ì½”ë“œì—ì„œ `use_mymemory=False` ì„¤ì •

### 4. Dictionary APIì—ì„œ ë‹¨ì–´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš°

- ì¼ë¶€ ë‹¨ì–´ëŠ” Dictionary APIì— ì—†ì„ ìˆ˜ ìˆìŒ
- í•´ë‹¹ ë‹¨ì–´ëŠ” ìë™ìœ¼ë¡œ ê±´ë„ˆë›°ê³  ë‹¤ìŒ ë‹¨ì–´ ì²˜ë¦¬

### 5. íŒŒì¼ ì €ì¥ ì‹¤íŒ¨

- `scripts/processed_words/` í´ë”ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
- íŒŒì¼ ì“°ê¸° ê¶Œí•œ í™•ì¸
- ë””ìŠ¤í¬ ê³µê°„ í™•ì¸

---

## ì£¼ì˜ì‚¬í•­

1. **ì¤‘ë³µ ë‹¨ì–´**: ì¤‘ë³µ ë‹¨ì–´ëŠ” ìë™ìœ¼ë¡œ ê±´ë„ˆë›°ë©° ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
2. **ë²ˆì—­ ì‹¤íŒ¨**: ë²ˆì—­ì´ ì‹¤íŒ¨í•œ ë‹¨ì–´ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ (í•œêµ­ì–´ ëœ»ì´ í•„ìˆ˜).
3. **í•„ìˆ˜ í•„ë“œ**: ë‹¨ì–´, ëœ»(í•œêµ­ì–´), í’ˆì‚¬, ì˜ˆë¬¸ì´ ëª¨ë‘ ìˆì–´ì•¼ ì €ì¥ë©ë‹ˆë‹¤.
4. **Rate Limiting**: API í˜¸ì¶œ ì œí•œì„ ê³ ë ¤í•˜ì—¬ ë”œë ˆì´ê°€ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
5. **ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬**: ë‹¨ì–´ ì²˜ë¦¬ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ ì¦‰ì‹œ ì™„ë£Œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

## ì„±ëŠ¥ ì°¸ê³ ì‚¬í•­

- **ì²˜ë¦¬ ì†ë„**: ë‹¨ì–´ë‹¹ ì•½ 0.2ì´ˆ (ë²ˆì—­ API + Dictionary API)
- **100ê°œ ë‹¨ì–´**: ì•½ 20ì´ˆ
- **1000ê°œ ë‹¨ì–´**: ì•½ 3-4ë¶„
- **10000ê°œ ë‹¨ì–´**: ì•½ 30-40ë¶„

---

## ì¶”ê°€ ì •ë³´

- **API ë¬¸ì„œ**: http://localhost:8001/docs
- **ReDoc ë¬¸ì„œ**: http://localhost:8001/redoc
- **ì„œë²„ ìƒíƒœ**: http://localhost:8001/

---

## ì˜ˆì œ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì²˜ìŒ 100ê°œ ë‹¨ì–´ ì²˜ë¦¬

1. ì„œë²„ ì‹¤í–‰: `python scripts/word_api.py 8001`
2. Swagger UI ì ‘ì†: http://localhost:8001/docs
3. `POST /words/process` í´ë¦­
4. ìš”ì²­ Body ì…ë ¥:
   ```json
   {
     "input_file": "raw_words/google-10000-english-usa-no-swears-medium.txt",
     "max_words": 100,
     "output_file": "test_100_words.json"
   }
   ```
5. "Execute" í´ë¦­
6. `GET /words/process/status`ë¡œ ì§„í–‰ ìƒí™© í™•ì¸
7. ì™„ë£Œ í›„ `scripts/processed_words/test_100_words.json` í™•ì¸

### ì‹œë‚˜ë¦¬ì˜¤ 2: ê¸°ì¡´ íŒŒì¼ì— ì¶”ê°€ ì²˜ë¦¬

1. ê¸°ì¡´ íŒŒì¼ì´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ë¡œë“œ
2. ì¤‘ë³µ ë‹¨ì–´ëŠ” ê±´ë„ˆë›°ê³  ìƒˆë¡œìš´ ë‹¨ì–´ë§Œ ì¶”ê°€
3. ìµœì¢… íŒŒì¼ì— ëª¨ë“  ë‹¨ì–´ê°€ ì €ì¥ë¨

---

ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì„œë²„ ì½˜ì†”ì˜ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í™•ì¸í•˜ì„¸ìš”.

